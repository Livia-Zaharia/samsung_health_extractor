{
  "csv_filtering": {
    "enabled_csvs": [
      ".cycle.daily_temperature",
      ".cycle.flow", 
      ".cycle.sexual_activity",
      ".tracker.heart_rate",
      ".tracker.pedometer_step_count",
      ".tracker.oxygen_saturation",
      ".weight",
      ".sleep",
      ".exercise",
      ".respiratory_rate"
    ],
    "description": "List of CSV files to process. Only these files will be included in processing."
  },
  "data_combinations": {
    "cycle_complete": {
      "description": "Complete menstrual cycle data combining all cycle-related CSV files",
      "output_file": "complete_cycle_data.csv",
      "sources": [
        {
          "csv_name": ".cycle.daily_temperature",
          "priority": 1,
          "merge_key": "day_time",
          "merge_key_rename": "date",
          "required": true,
          "columns_to_include": ["day_time", "temperature"],
          "rename_columns": {}
        },
        {
          "csv_name": ".cycle.flow",
          "priority": 2,
          "merge_key": "start_time",
          "merge_key_rename": "date",
          "required": false,
          "columns_to_include": ["start_time", "amount"],
          "rename_columns": {
            "amount": "flow_amount"
          }
        },
        {
          "csv_name": ".cycle.sexual_activity",
          "priority": 3,
          "merge_key": "start_time",
          "merge_key_rename": "date",
          "required": false,
          "columns_to_include": ["start_time"],
          "rename_columns": {
            "start_time": "sexual_activity"
          }
        }
      ],
      "output_structure": {
        "primary_sort": "date",
        "sort_ascending": true,
        "final_columns": [
          "date",
          "temperature",
          "flow_amount",
          "sexual_activity"
        ],
        "data_processing": {
          "interpolate_temperature": true,
          "add_cycle_day_number": true
        }
      }
    },
    "tracker_complete": {
      "description": "Complete tracker data combining heart rate and step count data",
      "output_file": "complete_tracker_data_hr_steps_spo2.csv",
      "sources": [
        {
          "csv_name": ".tracker.heart_rate",
          "priority": 1,
          "merge_key": "com.samsung.health.heart_rate.start_time",
          "merge_key_rename": "datetime",
          "required": false,
          "columns_to_include": [
            "com.samsung.health.heart_rate.start_time",
            "com.samsung.health.heart_rate.heart_rate"
          ],
          "rename_columns": {
            "com.samsung.health.heart_rate.heart_rate": "heart_rate"
          }
        },
        {
          "csv_name": ".tracker.pedometer_step_count",
          "priority": 2,
          "merge_key": "com.samsung.health.step_count.start_time",
          "merge_key_rename": "datetime",
          "required": false,
          "columns_to_include": [
            "com.samsung.health.step_count.start_time",
            "com.samsung.health.step_count.count",
            "com.samsung.health.step_count.distance"
          ],
          "rename_columns": {
            "com.samsung.health.step_count.count": "step_count",
            "com.samsung.health.step_count.distance": "distance"
          }
        },
        {
          "csv_name": ".tracker.oxygen_saturation",
          "priority": 3,
          "merge_key": "com.samsung.health.oxygen_saturation.start_time",
          "merge_key_rename": "datetime",
          "required": false,
          "columns_to_include": [
            "com.samsung.health.oxygen_saturation.start_time",
            "com.samsung.health.oxygen_saturation.spo2"
          ],
          "rename_columns": {
            "com.samsung.health.oxygen_saturation.spo2": "oxygen_saturation"
          }
        }
      ],
      "output_structure": {
        "primary_sort": "datetime",
        "sort_ascending": true,
        "final_columns": [
          "datetime",
          "heart_rate",
          "step_count",
          "distance",
          "oxygen_saturation"
        ],
        "data_processing": {}
      }
    },
    "sleep_weight_complete": {
      "description": "Complete sleep and weight data combining sleep sessions with weight measurements",
      "output_file": "complete_sleep_weight.csv",
      "sources": [
        {
          "csv_name": ".weight",
          "priority": 1,
          "merge_key": "start_time",
          "merge_key_rename": "date",
          "required": false,
          "columns_to_include": ["start_time", "weight"],
          "rename_columns": {}
        },
        {
          "csv_name": ".sleep",
          "priority": 2,
          "merge_key": "com.samsung.health.sleep.start_time",
          "merge_key_rename": "date",
          "required": false,
          "columns_to_include": [
            "com.samsung.health.sleep.start_time",
            "com.samsung.health.sleep.end_time",
            "sleep_score"
          ],
          "rename_columns": {
            "com.samsung.health.sleep.start_time": "sleep_start_time",
            "com.samsung.health.sleep.end_time": "sleep_end_time"
          }
        }
      ],
      "output_structure": {
        "primary_sort": "date",
        "sort_ascending": true,
        "final_columns": [
          "date",
          "weight",
          "sleep_start_time",
          "sleep_end_time",
          "sleep_score"
        ],
        "data_processing": {
          "calculate_sleep_duration": true
        }
      }
    },
    "exercise_respiratory_rate_complete": {
      "description": "Complete exercise and respiratory rate data combining exercise sessions with respiratory rate measurements",
      "output_file": "complete_exercise_respiratory_rate.csv",
      "sources": [
        {
          "csv_name": ".exercise",
          "priority": 1,
          "merge_key": "com.samsung.health.exercise.start_time",
          "merge_key_rename": "date",
          "required": false,
          "columns_to_include": [
            "com.samsung.health.exercise.start_time",
            "com.samsung.health.exercise.end_time",
            "com.samsung.health.exercise.exercise_type",
            "com.samsung.health.exercise.calorie",
            "com.samsung.health.exercise.distance"
          ],
          "rename_columns": {
            "com.samsung.health.exercise.start_time": "start_time",
            "com.samsung.health.exercise.end_time": "end_time",
            "com.samsung.health.exercise.exercise_type": "exercise_type",
            "com.samsung.health.exercise.calorie": "calories_burned",
            "com.samsung.health.exercise.distance": "distance"
          }
        },
        {
          "csv_name": ".respiratory_rate",
          "priority": 2,
          "merge_key": "start_time",
          "merge_key_rename": "date",
          "required": false,
          "columns_to_include": [
            "start_time",
            "end_time",
            "average"
          ],
          "rename_columns": {
            "start_time": "respiratory_start_time",
            "end_time": "respiratory_end_time",
            "average": "respiratory_rate_avg"
          }
        }
      ],
      "output_structure": {
        "primary_sort": "date",
        "sort_ascending": true,
        "final_columns": [
          "date",
          "start_time",
          "end_time",
          "exercise_type",
          "calories_burned",
          "distance",
          "respiratory_start_time",
          "respiratory_end_time",
          "respiratory_rate_avg"
        ],
        "data_processing": {
          "calculate_exercise_duration": true,
          "calculate_respiratory_duration": true
        }
      }
    }
  },
  "instructions": {
    "description": "Configuration for combining data from multiple CSV sources",
    "usage": "Define how to merge and structure data from different CSV files",
    "schema_explanation": {
      "sources": "Array of CSV sources to combine, ordered by priority",
      "priority": "Processing order (1 = highest priority)",
      "merge_key": "Column used to merge data (usually day_time or date)",
      "required": "Whether this source is mandatory for the combination",
      "columns_to_include": "Specific columns to extract from this CSV",
      "rename_columns": "Map original column names to new names",
      "output_structure": "Final structure and processing rules",
      "data_processing": "Additional processing options"
    },
    "notes": [
      "Higher priority sources are processed first",
      "Required sources must be present or the combination will fail",
      "merge_key is used to align data across different sources",
      "output_file specifies the final CSV filename",
      "data_processing options control how the combined data is processed"
    ]
  }
}
