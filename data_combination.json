{
  "csv_filtering": {
    "enabled_csvs": [
      ".cycle.daily_temperature",
      ".cycle.flow", 
      ".cycle.sexual_activity",
      ".tracker.heart_rate",
      ".tracker.pedometer_step_count"
    ],
    "description": "List of CSV files to process. Only these files will be included in processing."
  },
  "data_combinations": {
    "cycle_complete": {
      "description": "Complete menstrual cycle data combining all cycle-related CSV files",
      "output_file": "complete_cycle_data.csv",
      "sources": [
        {
          "csv_name": ".cycle.daily_temperature",
          "priority": 1,
          "merge_key": "day_time",
          "merge_key_rename": "date",
          "required": true,
          "columns_to_include": ["day_time", "temperature"],
          "rename_columns": {}
        },
        {
          "csv_name": ".cycle.flow",
          "priority": 2,
          "merge_key": "start_time",
          "merge_key_rename": "date",
          "required": false,
          "columns_to_include": ["start_time", "amount"],
          "rename_columns": {
            "amount": "flow_amount"
          }
        },
        {
          "csv_name": ".cycle.sexual_activity",
          "priority": 3,
          "merge_key": "start_time",
          "merge_key_rename": "date",
          "required": false,
          "columns_to_include": ["start_time"],
          "rename_columns": {
            "start_time": "sexual_activity"
          }
        }
      ],
      "output_structure": {
        "primary_sort": "date",
        "sort_ascending": true,
        "final_columns": [
          "date",
          "temperature",
          "flow_amount",
          "sexual_activity"
        ],
        "data_processing": {
          "interpolate_temperature": true,
          "add_cycle_day_number": true
        }
      }
    },
    "tracker_complete": {
      "description": "Complete tracker data combining heart rate and step count data",
      "output_file": "complete_tracker_data_hr_steps.csv",
      "sources": [
        {
          "csv_name": ".tracker.heart_rate",
          "priority": 1,
          "merge_key": "com.samsung.health.heart_rate.start_time",
          "merge_key_rename": "datetime",
          "required": false,
          "columns_to_include": [
            "com.samsung.health.heart_rate.start_time",
            "com.samsung.health.heart_rate.heart_rate"
          ],
          "rename_columns": {
            "com.samsung.health.heart_rate.heart_rate": "heart_rate"
          }
        },
        {
          "csv_name": ".tracker.pedometer_step_count",
          "priority": 2,
          "merge_key": "com.samsung.health.step_count.start_time",
          "merge_key_rename": "datetime",
          "required": false,
          "columns_to_include": [
            "com.samsung.health.step_count.start_time",
            "com.samsung.health.step_count.count",
            "com.samsung.health.step_count.distance"
          ],
          "rename_columns": {
            "com.samsung.health.step_count.count": "step_count",
            "com.samsung.health.step_count.distance": "distance"
          }
        }
      ],
      "output_structure": {
        "primary_sort": "datetime",
        "sort_ascending": true,
        "final_columns": [
          "datetime",
          "heart_rate",
          "step_count",
          "distance"
        ],
        "data_processing": {}
      }
    }
  },
  "instructions": {
    "description": "Configuration for combining data from multiple CSV sources",
    "usage": "Define how to merge and structure data from different CSV files",
    "schema_explanation": {
      "sources": "Array of CSV sources to combine, ordered by priority",
      "priority": "Processing order (1 = highest priority)",
      "merge_key": "Column used to merge data (usually day_time or date)",
      "required": "Whether this source is mandatory for the combination",
      "columns_to_include": "Specific columns to extract from this CSV",
      "rename_columns": "Map original column names to new names",
      "output_structure": "Final structure and processing rules",
      "data_processing": "Additional processing options"
    },
    "notes": [
      "Higher priority sources are processed first",
      "Required sources must be present or the combination will fail",
      "merge_key is used to align data across different sources",
      "output_file specifies the final CSV filename",
      "data_processing options control how the combined data is processed"
    ]
  }
}
